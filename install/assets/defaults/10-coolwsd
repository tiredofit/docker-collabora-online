#!/usr/bin/with-contenv bash

ADMIN_JWT_EXPIRY=${ADMIN_JWT_EXPIRY:-"1800"}
ALWAYS_SAVE_ON_EXIT=${ALWAYS_SAVE_ON_EXIT:-"false"}
AUTO_SAVE=${AUTO_SAVE:-300}
BATCH_PRIORITY=${BATCH_PRIORITY:-"5"}
CERTIFICATES_PATH=${CERTIFICATES_PATH:-""}
CHILD_ROOT_PATH=${CHILD_ROOT_PATH:-"child-roots"}
CLEANUP_BAD_BEHAVIOUR_TIME=${CLEANUP_BAD_BEHAVIOUR_TIME:-60}
CLEANUP_IDLE_TIME=${CLEANUP_IDLE_TIME:-300}
CLEANUP_INTERVAL=${CLEANUP_INTERVAL:-"10000"}
CLEANUP_LIMIT_CPU_PER=${CLEANUP_LIMIT_CPU_PER:-85}
CLEANUP_LIMIT_DIRTY_MEMORY=${CLEANUP_LIMIT_DIRTY_MEMORY:-3072}
CONNECTION_TIMEOUT=${CONNECTION_TIMEOUT:-30}
CONTENT_SECURITY_POLICY=${CONTENT_SECURITY_POLICY:-""}
DEEPL_API_URL=${DEEPL_API_URL:-""}
DEEPL_AUTH_KEY=${DEEPL_AUTH_KEY:-""}
ENABLE_ACCESSIBILITY=${ENABLE_ACCESSIBILITY:-"FALSE"}
ENABLE_ADMIN_CONSOLE=${ENABLE_ADMIN_CONSOLE:-"TRUE"}
ENABLE_CAPABILITIES=${ENABLE_CAPABILITIES:-"true"}
ENABLE_CLEANUP=${ENABLE_CLEANUP:-"false"}
ENABLE_CONFIG_RELOAD=${ENABLE_CONFIG_RELOAD:-"TRUE"}
ENABLE_DEEPL=${ENABLE_DEEPL:-"FALSE"}
ENABLE_DOCUMENT_SIGNING=${ENABLE_DOCUMENT_SIGNING:-"TRUE"}
ENABLE_DOCUMENT_STATISTICS=${ENABLE_DOCUMENT_STATISTICS:-"FALSE"}
ENABLE_EXPERIMENTAL_FEATURES=${ENABLE_EXPERIMENTAL_FEATURES:-"false"}
ENABLE_FILES_QUARANTINE=${ENABLE_FILES_QUARANTINE:-"FALSE"}
ENABLE_HOME_MODE=${ENABLE_HOME_MODE:-"FALSE"}
ENABLE_LANGUAGE_TOOL=${ENABLE_LANGUAGE_TOOL:-"FALSE"}
ENABLE_MACROS=${ENABLE_MACROS:-"FALSE"}
ENABLE_METRICS_UNAUTHENTICATED=${ENABLE_METRICS_UNAUTHENTICATED:-"FALSE"}
ENABLE_MOUNT_JAIL=${ENABLE_MOUNT_JAIL:-"true"}
ENABLE_OVERWRITE_MODE=${ENABLE_OVERWRITE_MODE:-"TRUE"}
ENABLE_SECCOMP=${ENABLE_SECCOMP:-"true"}
ENABLE_TILES_CACHE=${ENABLE_TILES_CACHE:-"TRUE"}
ENABLE_TLS=${ENABLE_TLS:-"FALSE"}
ENABLE_TLS_CERT_GENERATE=${ENABLE_TLS_CERT_GENERATE:-"TRUE"}
ENABLE_TLS_REVERSE_PROXY=${ENABLE_TLS_REVERSE_PROXY:-"TRUE"}
ENABLE_USER_STATISTICS=${ENABLE_USER_STATISTICS:-"FALSE"}
ENABLE_WASM=${ENABLE_WASM:-"TRUE"}
ENABLE_ZOTERO=${ENABLE_ZOTERO:-"TRUE"}
FILES_QUARANTINE_DIRECTORY_SIZE_LIMIT=${FILES_QUARANTINE_DIRECTORY_SIZE_LIMIT:-"250"}
FILES_QUARANTINE_EXPIRY=${FILES_QUARANTINE_EXPIRY:-"3000"}
FILES_QUARANTINE_MAX_VERSIONS=${FILES_QUARANTINE_MAX_VERSIONS:-"5"}
FILES_QUARANTINE_PATH=${FILES_QUARANTINE_PATH:-"quarantine"}
FILE_SERVER_ROOT_PATH=${FILE_SERVER_ROOT_PATH:-"browser/../"}
FILE_SIZE_LIMIT=${FILE_SIZE_LIMIT:-0}
FONTS_MISSING_ACTION=${FONTS_MISSING_ACTION:-"log"}
FORCE_WASM=${FORCE_WASM:-"FALSE"}
GROUP_DOWNLOAD_AS=${GROUP_DOWNLOAD_AS:-"TRUE"}
HELP_URL=${HELP_URL:-"https://help.collaboraoffice.com/help.html?"}
HEXIFY_EMBEDDED_URLS=${HEXIFY_EMBEDDED_URLS:-"FALSE"}
IDLE_SAVE=${IDLE_SAVE:-30}
IDLE_UNLOAD_TIMEOUT=${IDLE_UNLOAD_TIMEOUT:-3600}
INDIRECTION_ENDPOINT=${INDIRECTION_ENDPOINT:-""}
INTERFACE=${INTERFACE:-"tabbed"}
LANGUAGE=${LANGUAGE:-'en_GB en_US'}
LANGUAGE_TOOL_API_KEY=${LANGUAGE_TOOL_API_KEY:-""}
LANGUAGE_TOOL_BASE_URL=${LANGUAGE_TOOL_BASE_URL:-""}
LANGUAGE_TOOL_USER_NAME=${LANGUAGE_TOOL_USER_NAME:-""}
LANGUAGE_TOOL_REST_PROTOCOL=${LANGUAGE_TOOL_REST_PROTOCOL:-""}
LANGUAGE_TOOL_SSL_VERIFY=${LANGUAGE_TOOL_SSL_VERIFY:-"TRUE"}
LOG_ANONYMIZE=${LOG_ANONYMIZE:-"FALSE"}
LOG_ANONYMIZE_SALT=${LOG_ANONYMIZE_SALT:-"$(date +%s%N | cut -b12-19)"}
LOG_CLIENT_CONSOLE=${LOG_CLIENT_CONSOLE:-"false"}
LOG_COLOURIZE=${LOG_COLOURIZE:-"true"}
LOG_FILE=${LOG_FILE:-"cool.log"}
LOG_FILE_FLUSH=${LOG_FILE_FLUSH:-"false"}
LOG_LEVEL=${LOG_LEVEL:-"warning"}
LOG_LEVEL_CLIENT_LEAST_VERBOSE=${LOG_LEVEL_CLIENT_LEAST_VERBOSE:-"FATAL"}
LOG_LEVEL_CLIENT_MOST_VERBOSE=${LOG_LEVEL_CLIENT_MOST_VERBOSE:-"NOTICE"}
LOG_LIBREOFFICE=${LOG_LIBREOFFICE:-"-INFO-WARN"}
LOG_PROTOCOL=${LOG_PROTOCOL:-"FALSE"}
LOG_PATH=${LOG_PATH:-"/logs/"}
LOG_TYPE=${LOG_TYPE:-"CONSOLE"}
MACRO_SECURITY_LEVEL=${MACRO_SECURITY_LEVEL:-"1"}
MAX_CONVERT_LIMIT=${MAX_CONVERT_LIMIT:-100}
MAX_FILE_LOAD_LIMIT=${MAX_FILE_LOAD_LIMIT:-100}
MAX_OPEN_FILES=${MAX_OPEN_FILES:-0}
MAX_THREADS_DOCUMENT=${MAX_THREADS_DOCUMENT:-4}
MIN_TIME_BETWEEN_SAVES=${MIN_TIME_BETWEEN_SAVES:-"500"}
MIN_TIME_BETWEEN_UPLOADS=${MIN_TIME_BETWEEN_UPLOADS:-"5000"}
MEMORY_STACK_LIMIT=${MEMORY_STACK_LIMIT:-8000}
MEMORY_USAGE_MAX=${MEMORY_USAGE_MAX:-"80.0"}
MEMORY_VIRT_LIMIT=${MEMORY_VIRT_LIMIT:-0}
PATH_PREFIX=${PATH_PREFIX:-"/opt/cool/"}
PDF_RESOLUTION_DPI=${PDF_RESOLUTION_DPI:-"96"}
PRESPAWN_CHILD_PROCESSES=${PRESPAWN_CHILD_PROCESSES:-1}
REDLINING_AS_COMMENTS=${REDLINING_AS_COMMENTS:-"false"}
REMOTE_FONT_URL=${REMOTE_FONT_URL:-""}
RESTART_CONFIG_EDIT=${RESTART_CONFIG_EDIT:-"TRUE"}
SETUP_TYPE=${SETUP_TYPE:-"AUTO"}
SYS_TEMPLATE_PATH=${SYS_TEMPLATE_PATH:-"systemplate"}
TLS_CA_FILENAME=${TLS_CA_FILENAME:-"ca-chain.cert.pem"}
TLS_CERT_FILENAME=${TLS_CERT_FILENAME:-"cert.pem"}
TLS_CERT_PATH=${TLS_CERT_PATH:-"/etc/coolwsd/certs"}
TLS_KEY_FILENAME=${TLS_KEY_FILENAME:-"key.pem"}
USER_IDLE_TIMEOUT=${USER_IDLE_TIMEOUT:-3600}
USER_OUT_OF_FOCUS_TIMEOUT=${USER_OUT_OF_FOCUS_TIMEOUT:-60}
USE_INTEGRATOR_THEME=${USE_INTEGRATOR_THEME:-"TRUE"}
WATERMARK_OPACITY=${WATERMARK_OPACITY:-"0.2"}

if [ "${VERSION_SUFFIX,,}" = "random" ] ; then VERSION_SUFFIX="$(cat /proc/sys/kernel/random)" ; fi ;